<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PDF Flipbook Gallery (Clickable)</title>
  <style>
    :root {
      --bg: #0b0b0c; --card: #16171a; --text: #e9eaee; --muted:#a8acb3; --ring:#3a86ff;
    }
    body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Noto Color Emoji", sans-serif; background:var(--bg); color:var(--text); }
    header { padding:28px 20px; text-align:center; }
    h1 { margin:0 0 6px; font-size:clamp(20px, 3.5vw, 34px); }
    p { margin:0; color:var(--muted); }

    .grid {
      display:grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap:18px;
      padding:20px;
      max-width:1200px;
      margin:0 auto 40px;
    }
    .book {
      background:linear-gradient(135deg, #1a1c20, #0f1012);
      border-radius:20px;
      overflow:hidden;
      box-shadow: 0 12px 30px rgba(0,0,0,.35);
      transition: transform .2s ease, box-shadow .2s ease;
      position:relative;
      cursor:pointer;
      border:1px solid rgba(255,255,255,.06);
      isolation:isolate;
    }
    .book:hover { transform: translateY(-2px); box-shadow: 0 16px 40px rgba(0,0,0,.45); }
    .cover {
      aspect-ratio: 3/4;
      width:100%;
      object-fit:cover;
      display:block;
    }
    .meta { padding:12px 14px 14px; }
    .title { font-weight:600; font-size:15px; line-height:1.2; margin:0 0 4px; }
    .subtitle { color:var(--muted); font-size:13px; margin:0; }

    /* Lightbox */
    .lightbox {
      position:fixed; inset:0; background:rgba(0,0,0,.85);
      display:none; align-items:center; justify-content:center;
      padding:20px; z-index:9999;
    }
    .lightbox.open { display:flex; }
    .viewer {
      background:var(--card); border-radius:14px; width:min(1100px, 100%);
      height:min(85vh, 900px); border:1px solid rgba(255,255,255,.1); overflow:hidden;
      box-shadow: 0 20px 60px rgba(0,0,0,.6);
      position:relative;
    }
    .viewer iframe { width:100%; height:100%; border:0; background:white; }
    .close {
      position:absolute; top:10px; right:12px; background:rgba(20,20,24,.7); color:var(--text);
      border:0; border-radius:10px; padding:8px 12px; cursor:pointer; font-weight:600;
      backdrop-filter: blur(6px);
    }
    .close:focus-visible { outline:2px solid var(--ring); outline-offset:2px; }
    .sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
    @media (prefers-reduced-motion: reduce) { .book, .lightbox { transition:none; } }
  </style>
</head>
<body>
  <header>
    <h1>PDF Flipbook Gallery</h1>
    <p>Click any cover to read it in a lightbox.</p>
  </header>

<main class="grid" id="grid" aria-label="PDF gallery"></main>

    <article class="book" tabindex="0" role="button" aria-label="Open Lookbook 2025 PDF" data-pdf="assets/lookbook-2025.pdf">
      <img class="cover" src="assets/lookbook-cover.jpg" alt="Lookbook 2025 cover" />
      <div class="meta">
        <h3 class="title">Lookbook 2025</h3>
        <p class="subtitle">Flip through styles</p>
      </div>
    </article>

    <article class="book" tabindex="0" role="button" aria-label="Open Product Guide PDF" data-pdf="assets/product-guide.pdf">
      <img class="cover" src="assets/product-guide-cover.jpg" alt="Product Guide cover" />
      <div class="meta">
        <h3 class="title">Product Guide</h3>
        <p class="subtitle">Specs and pricing</p>
      </div>
    </article>
  </main>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-modal="true" role="dialog" aria-label="PDF viewer">
    <div class="viewer">
      <button class="close" id="closeBtn" aria-label="Close">Close âœ•</button>
      <!-- If you host PDF.js viewer, use it here instead of the native viewer -->
      <iframe id="pdfFrame" title="PDF viewer"></iframe>
    </div>
  </div>

  <script>
   <script>
  const grid = document.getElementById('grid');
  const lightbox = document.getElementById('lightbox');
  const frame = document.getElementById('pdfFrame');
  const closeBtn = document.getElementById('closeBtn');

  const PDFJS_VIEWER = ''; // leave empty unless you added PDF.js

  function openPDF(url) {
    frame.src = PDFJS_VIEWER ? (PDFJS_VIEWER + encodeURIComponent(url) + '#zoom=page-fit') : url + '#view=FitH';
    lightbox.classList.add('open');
    closeBtn.focus();
  }
  function closePDF() {
    lightbox.classList.remove('open');
    frame.src = 'about:blank';
  }

  closeBtn.addEventListener('click', closePDF);
  lightbox.addEventListener('click', (e) => { if (e.target === lightbox) closePDF(); });
  window.addEventListener('keydown', (e) => { if (e.key === 'Escape' && lightbox.classList.contains('open')) closePDF(); });

  function makeCard(item) {
    const article = document.createElement('article');
    article.className = 'book';
    article.tabIndex = 0;
    article.role = 'button';
    article.setAttribute('aria-label', `Open ${item.title} PDF`);
    article.dataset.pdf = item.pdf;

    article.innerHTML = `
      <img class="cover" src="${item.cover}" alt="${item.title} cover" />
      <div class="meta">
        <h3 class="title">${item.title}</h3>
        <p class="subtitle">${item.subtitle || ''}</p>
      </div>
    `;

    article.addEventListener('click', () => openPDF(item.pdf));
    article.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openPDF(item.pdf); }
    });

    return article;
  }

  fetch('assets/manifest.json')
    .then(r => r.json())
    .then(items => {
      items.forEach(item => grid.appendChild(makeCard(item)));
    })
    .catch(err => {
      console.error('Failed to load manifest.json', err);
      grid.innerHTML = '<p style="color:#a8acb3">Could not load gallery manifest.</p>';
    });
</script>
      }
    });

    closeBtn.addEventListener('click', closePDF);
    lightbox.addEventListener('click', (e) => { if (e.target === lightbox) closePDF(); });
    window.addEventListener('keydown', (e) => { if (e.key === 'Escape' && lightbox.classList.contains('open')) closePDF(); });
  </script>
</body>
</html>
